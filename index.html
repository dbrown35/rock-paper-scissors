<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="game.css">
    <meta charset="utf-8"/>
  <title>Rock,Paper,Scissors</title>
</head>
<body>
    <div class='results'>
    </div>
    <div class='score'>

    </div>
    <div class = 'choice'>
        <button type="button" class='btn' id='rock-btn'>ROCK</button>
        <button type="button" class='btn' id='paper-btn'>PAPER</button>
        <button type="button" class='btn' id='scissors-btn'>SCISSORS</button>
    </div>
    <div class= 'new'>
            <button type="button" class='btn' id='newGame' value ='true'>NEW GAME</button>
    </div>
  <script>
    const rock = document.querySelector('#rock-btn');
    const paper = document.querySelector('#paper-btn');
    const scissors = document.querySelector('#scissors-btn');
    const score = document.querySelector('.score');
    const newGame = document.querySelector('#newGame');

    let cap = true;
    let playerScore = 0, computerScore = 0;
    let choiceArr = ['rock','paper','scissors'];
    const results = document.querySelector('.results');

    results.textContent = 'Rock, Paper, Scissors';

    rock.addEventListener('click',() => playRound('rock', computerPlay()));
    paper.addEventListener('click',() => playRound('paper', computerPlay()));
    scissors.addEventListener('click',() => playRound('scissors', computerPlay()));
    newGame.addEventListener('click', () => {
            cap = true;
            playerScore = 0;
            computerScore = 0;
            score.textContent = 'Your Score: ' + playerScore + ' Computer Score: ' + computerScore;
            results.textContent = 'Rock, Paper, Scissors';
        });


    function computerPlay(){
        return choiceArr[Math.floor(Math.random()*choiceArr.length)];
    }

    function playRound(playerSelection, computerSelection){
        //game();
        if(cap){
        switch(playerSelection){
            case 'rock':
                if(computerSelection === 'rock'){
                    results.textContent = 'TIE!';
                }
                else if(computerSelection === 'paper'){
                    results.textContent = 'YOU LOSE! ' + computerSelection + ' beats ' + playerSelection;
                    computerScore++;
                }
                else if(computerSelection === 'scissors'){
                    results.textContent = 'YOU WIN! ' + playerSelection + ' beats ' + computerSelection;
                    playerScore++;
                }
                break;
            case 'paper':
                if(computerSelection === 'paper'){
                    results.textContent = 'TIE!';
                }
                else if(computerSelection === 'scissors'){
                    results.textContent = 'YOU LOSE! ' + computerSelection + ' beats ' + playerSelection;
                    computerScore++;
                }
                else if(computerSelection === 'rock'){
                    results.textContent = 'YOU WIN! ' + playerSelection + ' beats ' + computerSelection;
                    playerScore++;
                }
                break;
            case 'scissors':
                if(computerSelection === 'scissors'){
                    results.textContent = 'TIE!';
                }
                else if(computerSelection === 'rock'){
                    results.textContent = 'YOU LOSE! ' + computerSelection + ' beats ' + playerSelection;
                    computerScore++;
                }
                else if(computerSelection === 'paper'){
                    results.textContent = 'YOU WIN! ' + playerSelection + ' beats ' + computerSelection;
                    playerScore++;
                }
                break;


        }
        //console.log('Your Score: ' + playerScore);
        //console.log('Computer Score: ' + computerScore);
        game();
        }
    }

    function game(){
        if (playerScore < 5 && computerScore < 5){
            score.textContent = 'Your Score: ' + playerScore + ' Computer Score: ' + computerScore;
        }
        else if(playerScore === 5){
            score.textContent = 'You win the game!';
            cap = false;
            results.textContent = 'YOU WON!';
        }
        else if(computerScore === 5){
            score.textContent = 'You lost to the computer!';
            cap = false;
            results.textContent = 'YOU LOST!';
        }
    }

    /*function scoreIncrement() {
        playerScore++;
        document.getElementById("score").innerText="Score: " + score; 
    }â€‹*/
    

    

    
  </script>
</body>
</html>